/* CSS Generated by PAGE-BUILDER-CSS-AMP format script */
## Load each section property class
#set($sections = $_XPathTool.selectNodes($contentRoot, '//system-data-structure/SECTION'))
#foreach($section in $sections)
    #set($properties = $_XPathTool.selectSingleNode($section, 'PROPERTIES'))
    #set($sectionPadding = 'padding: '+$_EscapeTool.xml($properties.getChild('PADDING').value)+';')
    #set($backgroundType = $_EscapeTool.xml($properties.getChild('TYPE').value))
    #set($backgroundColor = $_EscapeTool.xml($properties.getChild('COLOR').value))
    #set($backgroundMedia = $_EscapeTool.xml($properties.getChild('MEDIA').getChild("link").value))
    #set($backgroundMediaPath = $_EscapeTool.xml($properties.getChild('MEDIA').getChild("path").value))
    #set($backgroundMediaLink = $_EscapeTool.xml($properties.getChild('MEDIA').getChild("link").value))
    #set($bg_color = '')
    #set($bg_image = '')
    #if($backgroundMediaPath.length() <= 1) #set($backgroundMediaLink = '') #end
    #if($backgroundType == 'EMPTY') #set($bg_color = 'background-color: transparent;')
    #elseif($backgroundType == 'COLOR') #set($bg_color = 'background-color: '+$backgroundColor+';')
    #elseif($backgroundType == 'IMAGE') #set($bg_image = "background-image: url('[system-asset]${backgroundMediaLink}[/system-asset]');")
    #end
.section-${velocityCount} { ${bg_color} ${bg_image} ${sectionPadding} }
#end

## Load page-level custom CSS (block & text)
#set($customCSS = $_XPathTool.selectSingleNode($contentRoot, '//system-data-structure/CUSTOM-CSS'))
#set ($cssBlocks = $_XPathTool.selectNodes($customCSS, "CSS-BLOCK[path != '/']"))

## Loop through blocks
#if ($cssBlocks.size() > 0)
    #foreach($cssBlock in $cssBlocks)
        #set($cssBlock = $cssBlock.getChild('content'))
        #if($cssBlock != '<path>/</path>') $_SerializerTool.serialize($cssBlock, true) #end
    #end
#end

## Output static page CSS
${customCSS.getChild('CSS').value}

## Page builder styles
amp-carousel[layout="responsive"] amp-img { height: initial; }
.hide-desktop { display: none; }
.hide-mobile  { display: block; }
.hide-both  { display: none; }